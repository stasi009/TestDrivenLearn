package test

import org.scalatest.Spec

sealed class ObjectTest extends Spec {

  object `singleton object` {

    object Accounts {
      private var lastid = 0
      def newId = { lastid += 1; lastid }
    }

    def `demo singleton 1` = {
      val ids = for (index <- 1 to 3) yield Accounts.newId
      assert(ids == Seq(1,2,3))
    }
  }
  
  object `companion object` {
    class Account(val balance: Int) {
      val id = Account.newId // companion object and class can access each other's private fields
    }
    
    object Account {
      private[this] var lastid = 0
      private def newId = {lastid += 1; lastid}
      
      def apply(balance: Int) new Account(balance)
    }
  }

}