package demo

import io.Source

object FileIoDemo extends App {

  def demoReadText() = {
    val source = Source.fromFile("resources/PythonZen.txt")
    val lniterator = source.getLines
    lniterator.zipWithIndex.foreach { case (ln, index) => println(s"[$index]:$ln") }
    source.close()
  } //def

  def demoIteratorDisposeProblem() = {

    def iteratorFromFile(filename: String) = {
      val source = Source.fromFile(filename)
      try {
        source.getLines
      } finally { source.close() }
    }

    val iterator = iteratorFromFile("resources/PythonZen.txt")
    iterator.zipWithIndex.foreach { case (ln, index) => println(s"[$index]:$ln") }
  }

  override def main(args: Array[String]) = {
    // demoReadText()
    demoIteratorDisposeProblem()
  } //def

}